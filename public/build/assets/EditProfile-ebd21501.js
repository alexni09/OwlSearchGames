import{t as V,K as A,r as w,o as F,b as m,c as p,a as r,d as e,s as C,e as M,F as P,y as U,T as H,z as y,u as a,A as K,w as $,Z as R,j as n,m as Z,i as E,g as x,v as I,B as L,k as D,n as G,l as J,f as O,p as Q,q as W,x as X}from"./app-202377ef.js";import{_ as Y}from"./ApplicationLogoMedium-5bb6f01d.js";import{_ as ee}from"./MustUpdateLocale-c1218e91.js";import{a as oe,_ as se}from"./SaveLocaleBeforeUnload-3eb8d8ae.js";import{_ as S}from"./InputError-dd2771d0.js";import{P as le}from"./ProcessingButton-3a1ecb8f.js";import{_ as k}from"./SwitchTwoState-4446d741.js";import{u as te}from"./useCan-1c3470e0.js";import{u as ae}from"./useChangeLocaleAxios-ee23d688.js";const ne={class:"w-full sm:max-w-md mt-6 px-6 py-4 bg-orange-100/80 dark:bg-green-800/80 shadow-md overflow-hidden sm:rounded-lg"},re={key:0,class:"w-full sm:max-w-md mt-12 px-6 py-4 bg-orange-100/80 dark:bg-green-800/80 shadow-md overflow-hidden sm:rounded-lg"},ie={__name:"HighDoubleLayout",setup(c){const _=V(A().props.background),g=w(null);return F(()=>{g.value.style.backgroundImage="url('"+_.img+"')",g.value.style.backgroundPosition=_.position}),(h,d)=>(m(),p(P,null,[r(ee),r(oe),e("div",{class:"min-h-screen flex flex-col sm:justify-center items-center pt-6 sm:pt-0 bg-orange-200 dark:bg-green-600 border-b border-amber-100 dark:border-emerald-600 w-full h-[1280px] bg-cover",ref_key:"backgroundDiv",ref:g},[e("div",null,[r(Y)]),e("div",ne,[C(h.$slots,"one")]),h.$slots.two?(m(),p("div",re,[C(h.$slots,"two")])):M("",!0)],512)],64))}};const de=c=>(Q("data-v-095e41b1"),c=c(),W(),c),ue=de(()=>e("audio",{id:"processingButtonAudio",src:"/audio/processingbutton1.mp3",preload:"auto"},null,-1)),me={class:"mt-1 mb-2 text-lg text-orange-700 dark:text-amber-100 font-semibold"},ce=["onSubmit"],pe={class:"mt-1"},fe={for:"profile-userName",class:"labelStyle"},_e=["placeholder"],ge={class:"mt-4"},he={for:"profile-email",class:"labelStyle"},ve=["placeholder"],be={class:"mt-4"},we={for:"profile-locale",class:"labelStyle"},ye={value:"0"},$e=["value"],xe={class:"mt-4"},Se={for:"profile-pronoun",class:"labelStyle"},ke={value:"0"},Pe=["value"],Ve={class:"switchStyle"},Ne={class:"mr-3 text-orange-700 dark:text-amber-100"},Be={class:"switchStyle"},Ce={class:"switchStyle"},Ue={class:"mr-3 text-orange-700 dark:text-amber-100"},Ee={class:"switchStyle"},Ie={class:"mr-3 text-orange-700 dark:text-amber-100"},Le={class:"mt-4 mb-2 flex flex-row-reverse"},De={class:"flex flex-col"},Ae={class:"mb-4 text-orange-800 dark:text-amber-100"},Fe={class:"flex flex-row-reverse"},Me={__name:"EditProfile",props:{locales:{type:Array},pronouns:{type:Array}},setup(c){const _=c;let{changeLocaleAxios:g}=ae(),{can:h}=te();const d=X(),T=s=>{d.appContext.config.globalProperties.$setLocale(s),g(s)},u=U(()=>A().props.auth.user),i=w(!!u.value.show_name),f=w(!!u.value.show_pronoun),N=String(u.value.locale_id),v=w(N),j=V(_.locales),z=U(()=>V(_.pronouns).filter(o=>o.locale_id===Number(v.value))),B=String(u.value.pronoun_id),b=w(B),l=H({name:u.value.name,email:u.value.email,locale_id:N,pronoun_id:B,show_name:i.value,show_pronoun:f.value,show_email:!!u.value.show_email,show_user_id:!!u.value.show_user_id}),q=()=>{document.getElementById("processingButtonAudio").play(),l.patch(route("profile.edit"),{onSuccess:()=>{l.isDirty?d.appContext.config.globalProperties.$setFlash(d.appContext.config.globalProperties.$msg.success,d.appContext.config.globalProperties.$msg.successUpdateProfile):d.appContext.config.globalProperties.$setFlash(d.appContext.config.globalProperties.$msg.information,d.appContext.config.globalProperties.$msg.infoNotUpdateProfile,"info")}})};return F(()=>{document.getElementById("profile-userName").focus()}),y(v,()=>{let s=Number(v.value);if(l.locale_id=s,s>0){const t=j.find(o=>o.id===s);T(t.locale)}b.value="0",l.pronoun_id=0}),y(b,()=>{l.pronoun_id=Number(b.value)}),y(i,()=>{l.show_name=i.value,i.value||(f.value=!1,l.show_pronoun=!1)}),y(f,()=>{l.show_pronoun=f.value}),(s,t)=>(m(),p(P,null,[r(a(R),{title:s.$msg.profileEdit},null,8,["title"]),ue,r(ie,null,K({one:$(()=>[e("h3",me,n(s.$msg.profileEdit),1),e("form",{onSubmit:O(q,["prevent"])},[e("div",pe,[e("label",fe,n(s.$msg.userName),1),x(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>a(l).name=o),id:"profile-userName",type:"text",class:"fieldStyle",placeholder:s.$msg.userNamePlaceholder},null,8,_e),[[I,a(l).name]]),r(S,{message:a(l).errors.name,class:"mt-2"},null,8,["message"])]),e("div",ge,[e("label",he,n(s.$msg.email),1),x(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>a(l).email=o),id:"profile-userName",type:"text",class:"fieldStyle",placeholder:s.$msg.emailPlaceholder},null,8,ve),[[I,a(l).email]]),r(S,{message:a(l).errors.email,class:"mt-2"},null,8,["message"])]),e("div",be,[e("label",we,n(s.$msg.localePreferred),1),x(e("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>v.value=o),id:"profile-locale",class:"fieldStyle"},[e("option",ye,"-- "+n(s.$msg.localeSelect)+" --",1),(m(!0),p(P,null,D(c.locales,o=>(m(),p("option",{value:o.id,key:o.id},n(o.name),9,$e))),128))],512),[[L,v.value]]),r(S,{message:a(l).errors.locale_id,class:"mt-2"},null,8,["message"])]),e("div",xe,[e("label",Se,n(s.$msg.pronoun),1),x(e("select",{"onUpdate:modelValue":t[3]||(t[3]=o=>b.value=o),id:"profile-pronoun",class:"fieldStyle"},[e("option",ke,"-- "+n(s.$msg.pronounSelect)+" --",1),(m(!0),p(P,null,D(a(z),o=>(m(),p("option",{value:o.id,key:o.id},n(o.pronoun),9,Pe))),128))],512),[[L,b.value]]),r(S,{message:a(l).errors.pronoun_id,class:"mt-2"},null,8,["message"])]),e("div",Ve,[e("span",Ne,n(s.$msg.showName),1),r(k,{modelValue:i.value,"onUpdate:modelValue":t[4]||(t[4]=o=>i.value=o)},null,8,["modelValue"])]),e("div",Be,[e("span",{class:G(["mr-3 text-orange-700 dark:text-amber-100",{"line-through":!i.value,"text-gray-400":!i.value}])},n(s.$msg.showPronoun),3),i.value?(m(),J(k,{key:0,modelValue:f.value,"onUpdate:modelValue":t[5]||(t[5]=o=>f.value=o)},null,8,["modelValue"])):M("",!0)]),e("div",Ce,[e("span",Ue,n(s.$msg.showEmail),1),r(k,{modelValue:a(l).show_email,"onUpdate:modelValue":t[6]||(t[6]=o=>a(l).show_email=o)},null,8,["modelValue"])]),e("div",Ee,[e("span",Ie,n(s.$msg.showUserId),1),r(k,{modelValue:a(l).show_user_id,"onUpdate:modelValue":t[7]||(t[7]=o=>a(l).show_user_id=o)},null,8,["modelValue"])]),e("div",Le,[r(le,{modelValue:a(l).processing,"onUpdate:modelValue":t[8]||(t[8]=o=>a(l).processing=o),class:"w-36"},{default:$(()=>[E(n(s.$msg.save),1)]),_:1},8,["modelValue"])])],40,ce)]),_:2},[a(h)("profile.delete")?{name:"two",fn:$(()=>[e("div",De,[e("p",Ae,n(s.$msg.profileDeletePreText),1),e("div",Fe,[r(a(Z),{href:s.route("profile.predelete"),method:"post",as:"button",type:"button",class:"mt-1 mb-2 w-[208px] px-3 py-2 bg-red-500 text-amber-50 font-semibold text-sm flex justify-center place-items-center uppercase rounded"},{default:$(()=>[E(n(s.$msg.profileDelete),1)]),_:1},8,["href"])])])]),key:"0"}:void 0]),1024)],64))}},Je=se(Me,[["__scopeId","data-v-095e41b1"]]);export{Je as default};
