import{b as m,c as p,d as l,r as i,z as B,g as F,v as E,h as N,a as h,T as z,o as A,C as T,w as M,F as C,j as u,e as v,u as c,D as P,p as D,q as U}from"./app-bec3c17d.js";import{_ as Y}from"./NarrowLayout-3a6f0e2d.js";import{_ as j}from"./LocaleCycler-d4fc0a4b.js";import{_ as V}from"./SaveLocaleBeforeUnload-d72189b0.js";import{_ as I}from"./InputError-e1af4e19.js";import"./ApplicationLogoMedium-ee377fdc.js";import"./MustUpdateLocale-c67af647.js";import"./GlobeIcon-96440992.js";import"./useChangeLocaleAxios-ee23d688.js";const K={},L={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2.5",class:"w-5 h-5 stroke-orange-800 dark:stroke-emerald-200 opacity-70"},O=l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"},null,-1),q=[O];function R(n,r){return m(),p("svg",L,q)}const G=V(K,[["render",R]]),H={class:"h-12 bg-orange-100 dark:bg-green-800 text-orange-700 dark:text-green-200 relative"},J=["placeholder"],S={__name:"SearchBox",props:{modelValue:{type:String,default:""},placeholder:{type:String,default:""}},emits:["update:modelValue","thisSearch"],setup(n,{emit:r}){const s=n,g=5,b=4e3,d=s.modelValue,t=i(d),e=(a=!1)=>{a&&clearTimeout(o),a&&d!==""&&t.value.length<g?r("thisSearch",""):t.value.length<g||(!a||y!==t.value)&&r("thisSearch",t.value)};let y=Symbol(),w=0;const f=()=>w=Date.now();let o=null;B(t,()=>{r("update:modelValue",t.value),f(),o=setTimeout(()=>{Date.now()>=b+w&&(f(),e(),y=t.value)},b)});const _=i(null);return(a,x)=>(m(),p("div",H,[F(l("input",{type:"text",maxlength:"25",class:"relative mt-1 w-72 h-8 rounded-full py-5 cursor-text text-orange-700 dark:text-green-200 bg-amber-200 dark:bg-emerald-700 border-2 border-amber-800 dark:border-emerald-200 placeholder:text-amber-200 placeholder:dark:text-emerald-700 hover:placeholder:text-amber-700 hover:placeholder:dark:text-emerald-200 focus:placeholder:text-amber-700 focus:placeholder:dark:text-emerald-200 focus:border-amber-800 focus:dark:border-emerald-200 focus:ring focus:ring-amber-800 focus:dark:ring-emerald-100 focus:ring-opacity-50 outline-none","onUpdate:modelValue":x[0]||(x[0]=$=>t.value=$),onKeydown:x[1]||(x[1]=N($=>e(!0),["enter"])),ref_key:"idInputField",ref:_,placeholder:n.placeholder},null,40,J),[[E,t.value]]),h(G,{class:"absolute z-20 right-[10px] top-[15px] cursor-default",onClick:e})]))}};const k=n=>(D("data-v-7d6866e3"),n=n(),U(),n),Q=k(()=>l("audio",{id:"cycleButtonAudio",src:"/audio/gameswitch4.mp3",preload:"auto"},null,-1)),W=k(()=>l("audio",{id:"submitAudio",src:"/audio/positive_beep2.mp3",preload:"auto"},null,-1)),X={class:"absolute z-10 top-4 w-full"},Z={class:"flex justify-between items-start"},ee={class:"font-semibold"},oe={class:"mt-[3px] text-sm font-medium"},te={class:"text-base"},se={key:0,class:"pb-4 text-base"},le={key:1,class:"pb-4 text-base"},ae={key:0,class:"absolute z-10 top-28"},re={key:1,class:"absolute z-10 top-28"},de={class:"absolute z-10 bottom-4 w-full"},ie=["disabled"],ne={key:2,class:"absolute z-30 top-28 left-40"},ue=k(()=>l("span",{class:"circleAnimation"},null,-1)),ce=[ue],me={__name:"ForgotPassword",props:{method:{type:Number,default:1},user_id:{type:String,default:""},email:{type:String,default:""}},setup(n){const r=n,s=i(r.method),g=2,b=()=>{s.value===g?s.value=1:s.value++,document.getElementById("cycleButtonAudio").play()};let d=null,t=null;s.value===1?(d=r.user_id==null?i(""):i(r.user_id),t=i("")):s.value===2&&(d=i(""),t=r.email==null?i(""):i(r.email));const e=z({method:s.value,user_id:d.value,email:t.value}),y=o=>{o.length>=5&&(e.method=1,e.user_id=o,e.email="",document.getElementById("submitAudio").play(),e.post(route("forgotpassword.update")))},w=o=>{o.length>=5&&(e.method=2,e.user_id="",e.email=o,document.getElementById("submitAudio").play(),e.post(route("forgotpassword.update")))};A(()=>{s.value===1?document.getElementById("userIdField").focus():s.value===2&&document.getElementById("emailField").focus()});const f=i(null);return T(()=>{f.value!==null&&(e.processing?f.value.parentNode.style.opacity=.6:f.value.parentNode.style.opacity=1)}),(o,_)=>(m(),p(C,null,[Q,W,h(Y,null,{default:M(()=>[l("div",{ref_key:"refNarrowLayout",ref:f,class:"relative z-0 w-full h-72 text-orange-700 dark:text-green-100 rounded-none border-none"},[l("div",X,[l("div",Z,[l("span",ee,u(o.$msg.forgotYourPassword),1),l("span",oe,"("+u(o.$msg.forgotPasswordOption)+" "+u(s.value)+" "+u(o.$msg.forgotPasswordOf)+" "+u(g)+")",1),h(j)]),l("p",te,u(o.$msg.forgotYourPasswordNoProblem),1),s.value===1?(m(),p("p",se,u(o.$msg.forgotYourPasswordUserId),1)):v("",!0),s.value===2?(m(),p("p",le,u(o.$msg.forgotYourPasswordEmail),1)):v("",!0)]),s.value===1?(m(),p("div",ae,[h(S,{id:"userIdField",disabled:c(e).processing,placeholder:o.$msg.forgotPasswordPlaceholderUserId,modelValue:c(d),"onUpdate:modelValue":_[0]||(_[0]=a=>P(d)?d.value=a:d=a),onThisSearch:y},null,8,["disabled","placeholder","modelValue"]),h(I,{message:c(e).errors.user_id,class:"mt-2"},null,8,["message"])])):v("",!0),s.value===2?(m(),p("div",re,[h(S,{id:"emailField",disabled:c(e).processing,placeholder:o.$msg.forgotPasswordPlaceholderEmail,modelValue:c(t),"onUpdate:modelValue":_[1]||(_[1]=a=>P(t)?t.value=a:t=a),onThisSearch:w},null,8,["disabled","placeholder","modelValue"]),h(I,{message:c(e).errors.email,class:"mt-2"},null,8,["message"])])):v("",!0),l("div",de,[l("button",{class:"mt-4 px-6 py-2 text-white bg-sky-500 uppercase font-semibold text-base rounded-lg",disabled:c(e).processing,onClick:b},u(o.$msg.forgotYourPasswordTrySomethingElse),9,ie)]),c(e).processing?(m(),p("div",ne,ce)):v("",!0)],512)]),_:1})],64))}},xe=V(me,[["__scopeId","data-v-7d6866e3"]]);export{xe as default};
